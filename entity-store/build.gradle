dependencies {
    compile project(':vfs')
    compile project(':sshd')
    testCompile project(':utils').sourceSets.test.output
}

task jarTests(type: Jar) {
    from project.sourceSets.test.output
}

def SNAPSHOT = '1.0-SNAPSHOT'

if (version == SNAPSHOT) {
    jarTests.archiveName = rootProject.name + '-' + project.name + '-tests.jar'
} else {
    jarTests.archiveName = rootProject.name + '-' + project.name + '-tests-' + version + '.jar'
}
artifacts {
    archives jarTests
}